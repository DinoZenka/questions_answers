(this.webpackJsonp1task=this.webpackJsonp1task||[]).push([[0],{20:function(t,e,n){},22:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(11),r=n.n(i),s=(n(20),n(3)),u=n(12),o=n(8),l=n.n(o),j=n(13),f=n(2),d=(n(22),n(4)),b=n(1),O=function(t,e,n){var a=c.a.useState(t),i=Object(f.a)(a,2),r=i[0],u=i[1],o=c.a.useState(!1),l=Object(f.a)(o,2),j=l[0],d=l[1],b=function(t,e){var n=c.a.useState(!0),a=Object(f.a)(n,2),i=a[0],r=a[1],s=c.a.useState(!0),u=Object(f.a)(s,2),o=u[0],l=u[1],j=c.a.useState(!0),d=Object(f.a)(j,2),b=d[0],O=d[1];return c.a.useEffect((function(){for(var n in e)switch(n){case"isEmpty":r(!t);break;case"minLength":t.length>=e[n]?l(!1):l(!0)}}),[t]),c.a.useEffect((function(){O(!i&&!o)}),[o,i]),{isEmpty:i,isMinLength:o,isInputValid:b}}(r,e);""!==r&&""===t&&u("");return Object(s.a)({value:r,onChange:function(t){u(t.target.value)},onBlur:function(t){d(!0)},isDirty:j},b)},h=function(t){var e=t.question,n=t.id,a=t.isFormValid,c=t.initial,i=O(c,{isEmpty:!0,minLength:2});return a().current[n]=Object(d.a)({b:i.isInputValid},e,i.value),Object(b.jsxs)("div",{className:"question-container",children:[Object(b.jsx)("label",{className:"question",htmlFor:"input".concat(n),children:e}),i.isDirty&&i.isEmpty&&Object(b.jsx)("div",{style:{color:"red"},children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}),i.isDirty&&i.isMinLength&&Object(b.jsx)("div",{style:{color:"red"},children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),Object(b.jsx)("input",{id:"input".concat(n),className:"answer",type:"text",value:i.value,onChange:function(t){return i.onChange(t)},onBlur:function(t){return i.onBlur(t)},name:e,placeholder:"*\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",required:!0})]})},v=n(14),m=n.n(v),p=n(15),x=n.n(p),g=function(){var t=c.a.useState([]),e=Object(f.a)(t,2),n=e[0],a=e[1],i=c.a.useState({}),r=Object(f.a)(i,2),o=r[0],d=r[1],O=c.a.useState(!1),v=Object(f.a)(O,2),p=v[0],g=v[1],y=c.a.useState(!0),S=Object(f.a)(y,2),E=S[0],q=S[1],k=c.a.useState(!1),w=Object(f.a)(k,2),N=w[0],C=w[1],I=c.a.useRef({});c.a.useEffect((function(){(function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!1),t.next=3,fetch("data.json").then((function(t){return t.json()}));case 3:e=t.sent,a(e.data),g(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),c.a.useEffect((function(){var t,e={},a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value,i=localStorage.getItem(c.question);e[c.question]=i||""}}catch(r){a.e(r)}finally{a.f()}d(e)}),[n]);var L=function(){return I},B=n.map((function(t){return Object(b.jsx)(h,{question:t.question,id:t.id,isFormValid:L,initial:o[t.question]},t.id)}));return N?Object(b.jsx)(x.a,{}):Object(b.jsx)("div",{className:"form-container",children:p?Object(b.jsxs)("form",{className:"form",children:[B,!E&&Object(b.jsx)("div",{style:{color:"red"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"}),Object(b.jsx)("button",{className:"send-button",onClick:function(t){for(var e=!0,n=0,a=Object.values(I.current);n<a.length;n++){e&=a[n].b}q(e);var c=Object(s.a)({},o);e&&(Object.values(I.current).forEach((function(t){var e=Object(f.a)(Object.entries(t)[1],2),n=e[0],a=e[1];localStorage.setItem(n,a),c[n]=""})),C(!0),setTimeout((function(){m.a.fire({title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u044b\u0445",text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0432 localStorage",icon:"success",didClose:function(){C(!1)}})}),200)),d(c),t.preventDefault()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}):Object(b.jsx)("h1",{children:"Loading data..."})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.2201a414.chunk.js.map