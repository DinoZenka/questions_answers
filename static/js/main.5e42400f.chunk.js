(this.webpackJsonp1task=this.webpackJsonp1task||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),r=n.n(i),s=(n(20),n(3)),u=n(12),o=n(8),l=n.n(o),f=n(13),j=n(2),b=(n(22),n(4)),d=n(1),O=function(e,t,n){var a=c.a.useState(e),i=Object(j.a)(a,2),r=i[0],u=i[1],o=c.a.useState(!1),l=Object(j.a)(o,2),f=l[0],b=l[1],d=function(e,t){var n=c.a.useState(!0),a=Object(j.a)(n,2),i=a[0],r=a[1],s=c.a.useState(!0),u=Object(j.a)(s,2),o=u[0],l=u[1],f=c.a.useState(!0),b=Object(j.a)(f,2),d=b[0],O=b[1];return c.a.useEffect((function(){for(var n in t)switch(n){case"isEmpty":r(!e);break;case"minLength":e.length>=t[n]?l(!1):l(!0)}}),[e]),c.a.useEffect((function(){O(!i&&!o)}),[o,i]),{isEmpty:i,isMinLength:o,isInputValid:d}}(r,t);return Object(s.a)({value:r,onChange:function(e){u(e.target.value)},onBlur:function(e){b(!0)},isDirty:f},d)},h=function(e){var t=e.question,n=e.id,a=e.isFormValid,c=e.initial,i=O(c,{isEmpty:!0,minLength:2});return a().current[n]=Object(b.a)({b:i.isInputValid},t,i.value),Object(d.jsxs)("div",{className:"question-container",children:[Object(d.jsx)("label",{className:"question",htmlFor:"input".concat(n),children:t}),i.isDirty&&i.isEmpty&&Object(d.jsx)("div",{style:{color:"red"},children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}),i.isDirty&&i.isMinLength&&Object(d.jsx)("div",{style:{color:"red"},children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),Object(d.jsx)("input",{id:"input".concat(n),className:"answer",type:"text",value:i.value,onChange:function(e){return i.onChange(e)},onBlur:function(e){return i.onBlur(e)},name:t,placeholder:"*\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",required:!0})]})},v=n(14),m=n.n(v),p=n(15),x=n.n(p),S=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],i=c.a.useState({}),r=Object(j.a)(i,2),o=r[0],b=r[1],O=c.a.useState(!1),v=Object(j.a)(O,2),p=v[0],S=v[1],g=c.a.useState(!0),y=Object(j.a)(g,2),E=y[0],q=y[1],N=c.a.useState(!1),k=Object(j.a)(N,2),w=k[0],C=k[1],I=c.a.useRef({});c.a.useEffect((function(){(function(){var e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.next=3,fetch("data.json").then((function(e){return e.json()}));case 3:t=e.sent,a(t.data),S(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.useEffect((function(){var e={},t=JSON.parse(localStorage.getItem("QUEST"));if(t)b(t);else{var a,c=Object(u.a)(n);try{for(c.s();!(a=c.n()).done;){e[a.value.question]=""}}catch(i){c.e(i)}finally{c.f()}b(e)}}),[n]);var L=function(){return I},B=n.map((function(e){return Object(d.jsx)(h,{question:e.question,id:e.id,isFormValid:L,initial:o[e.question]},e.id)}));return w?Object(d.jsx)(x.a,{}):Object(d.jsx)("div",{className:"form-container",children:p?Object(d.jsxs)("form",{className:"form",children:[B,!E&&Object(d.jsx)("div",{style:{color:"red"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"}),Object(d.jsx)("button",{className:"send-button",onClick:function(e){for(var t=!0,n=0,a=Object.values(I.current);n<a.length;n++){t&=a[n].b}q(t);var c=Object(s.a)({},o),i=Object(s.a)({},o);t&&(Object.values(I.current).forEach((function(e){var t=Object(j.a)(Object.entries(e)[1],2),n=t[0],a=t[1];c[n]="",i[n]=a})),localStorage.setItem("QUEST",JSON.stringify(i)),b(c),C(!0),setTimeout((function(){m.a.fire({title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u044b\u0445",text:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0432 localStorage",icon:"success",didClose:function(){C(!1)}})}),200)),e.preventDefault()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}):Object(d.jsx)("h1",{children:"Loading data..."})})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5e42400f.chunk.js.map